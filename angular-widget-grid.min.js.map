{"version":3,"file":"angular-widget-grid.min.js","sources":["angular-widget-grid.js"],"names":["angular","module","directive","scope","rendering","highlight","options","restrict","replace","template","link","element","updateGridPreview","children","remove","showGrid","i","x","y","bar","cellHeight","grid","cellSize","height","cellWidth","width","rows","append","columns","resetHighlights","highlights","length","highlightArea","area","addClass","css","top","left","push","$watch","newRendering","newHighlight","isArray","gridDirective","controller","controllerAs","transclude","templateUrl","$element","$scope","$timeout","Grid","gridRenderer","addWidget","widget","vm","add","updateRendering","removeWidget","updateGridSize","parseInt","resize","updateOptions","extend","DEFAULT_OPTIONS","overlayOptions","highlightNextPosition","updateNextPositionHighlight","render","renderStrategy","assessAvailableGridSpace","$broadcast","gridHasSpaceLeft","hasSpaceLeft","usedToBeFull","$emit","updateWidget","setWidgetPosition","id","getPosition","nextPos","getNextPosition","getWidgetPosition","getWidgetStyle","getStyle","getPositions","gridContainer","rect","getBoundingClientRect","getClientRects","doc","ownerDocument","docElem","documentElement","window","pageYOffset","clientTop","pageXOffset","clientLeft","isObstructed","j","isAreaObstructed","rasterizeCoords","clientWidth","clientHeight","this","getWidgetRenderPosition","isPositionObstructed","gridUtil","require","pre","attrs","widgetCtrl","templateContent","getTemplate","innerCompile","$document","gridCtrl","onDown","event","onMove","preventDefault","isObject","originalEvent","touches","clientX","clientY","dragPositionX","Math","round","gridPositions","dragPositionY","requestedRender","min","max","moverOffset","startRender","currentFinalPos","determineFinalPos","startPos","widgetElement","onUp","off","eventMove","eventUp","finalPos","removeClass","widgetContainer","parentElement","bottom","right","offsetTop","offsetLeft","offsetX","layerX","offsetY","layerY","on","anchorTop","anchorLeft","floor","movedDown","movedRight","finalPosRequest","path","getPathIterator","hasNext","currPos","next","targetArea","excludedArea","fromBottom","fromRight","eventDown","navigator","pointerEnabled","INDEX_DRAGGER_N","INDEX_DRAGGER_E","INDEX_DRAGGER_S","INDEX_DRAGGER_W","INDEX_DRAGGER_NW","INDEX_DRAGGER_NE","INDEX_DRAGGER_SE","INDEX_DRAGGER_SW","MIN_HEIGHT","MIN_WIDTH","ADD_OFFSET","registerDragHandler","dragger","containerElement","up","delta","draggerOffset","down","removeAttr","foundCollision","requestedStartPoint","requestedEndPoint","requestedPos","container","offsetHeight","offsetWidth","draggerElements","draggers","$compile","Widget","position","editable","widgetOptions","getNodeIndex","index","elem","previousElementSibling","setPosition","$on","DEFAULT_COLUMNS","DEFAULT_ROWS","factory","computeCellSize","widgets","prototype","idx","indexOf","splice","GridRendering","positions","obstructions","cachedNextPosition","undefined","gridWidth","gridHeight","getWidgetIdAt","widgetId","pos","newPosition","currPosition","setObstructionValues","isNumber","isDefined","currAreaLimit","currArea","currHeight","currWidth","currMaxPosition","currMaxArea","currMaxRight","maxPosition","maxArea","_isObstructed","ii","jj","expanding","verticalStart","verticalStep","verticalEnd","horizontalStart","horizontalStep","horizontalEnd","toString","display","value","printObstructions","row","console","log","getUID","style","service","renderMaxSize","conflicts","nextPosition","renderClassic","sorted","sortWidgets","needsRepositioning","$templateCache","nextId","curr","comp","found","roundDecimal","decimal","rowCount","columnCount","templateName","get","endPos","topDelta","leftDelta","steps","abs","currStep","currTopDelta","currLeftDelta","run","put"],"mappings":"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"}