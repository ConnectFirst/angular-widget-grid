{"version":3,"file":"angular-widget-grid.min.js","sources":["angular-widget-grid.js"],"names":["angular","module","directive","scope","rendering","highlight","options","restrict","replace","template","link","element","updateGridPreview","children","remove","showGrid","i","x","y","bar","cellHeight","grid","cellSize","height","cellWidth","width","rows","append","columns","resetHighlights","highlights","length","highlightArea","area","addClass","css","top","left","push","$watch","newRendering","newHighlight","isArray","gridDirective","controller","controllerAs","transclude","templateUrl","$element","$scope","$timeout","Grid","gridRenderer","addWidget","widget","vm","add","updateRendering","removeWidget","updateGridSize","parseInt","resize","updateOptions","extend","DEFAULT_OPTIONS","overlayOptions","highlightNextPosition","updateNextPositionHighlight","render","renderStrategy","assessAvailableGridSpace","$broadcast","gridHasSpaceLeft","hasSpaceLeft","usedToBeFull","$emit","updateWidget","setWidgetPosition","id","getPosition","nextPos","getNextPosition","getWidgetPosition","getWidgetStyle","getStyle","getPositions","gridContainer","rect","getBoundingClientRect","getClientRects","doc","ownerDocument","docElem","documentElement","window","pageYOffset","clientTop","pageXOffset","clientLeft","isObstructed","j","isAreaObstructed","rasterizeCoords","clientWidth","clientHeight","this","getWidgetRenderPosition","isPositionObstructed","gridUtil","require","pre","attrs","widgetCtrl","templateContent","getTemplate","innerCompile","$document","gridCtrl","onDown","event","onMove","preventDefault","isObject","originalEvent","touches","clientX","clientY","dragPositionX","Math","round","gridPositions","dragPositionY","requestedRender","min","max","moverOffset","startRender","currentFinalPos","determineFinalPos","startPos","widgetElement","onUp","off","eventMove","eventUp","finalPos","removeClass","widgetContainer","parentElement","bottom","right","offsetTop","offsetLeft","offsetX","layerX","offsetY","layerY","on","anchorTop","anchorLeft","floor","movedDown","movedRight","finalPosRequest","path","getPathIterator","hasNext","currPos","next","targetArea","excludedArea","fromBottom","fromRight","eventDown","navigator","pointerEnabled","$attrs","$parse","DEFAULT_DIRECTIONS","getResizeDirections","attrValue","wgResizable","directions","MIN_HEIGHT","MIN_WIDTH","ADD_OFFSET","ctrls","registerDragHandler","dragger","containerElement","up","delta","draggerOffset","down","removeAttr","foundCollision","requestedStartPoint","requestedEndPoint","requestedPos","container","offsetHeight","offsetWidth","resizableCtrl","draggers","N","E","S","W","NW","NE","SE","SW","uppercase","isDefined","$compile","Widget","position","editable","widgetOptions","getNodeIndex","index","elem","previousElementSibling","setPosition","$on","DEFAULT_COLUMNS","DEFAULT_ROWS","factory","computeCellSize","widgets","prototype","idx","indexOf","splice","GridRendering","positions","obstructions","cachedNextPosition","undefined","gridWidth","gridHeight","getWidgetIdAt","widgetId","pos","newPosition","currPosition","setObstructionValues","isNumber","currAreaLimit","currArea","currHeight","currWidth","currMaxPosition","currMaxArea","currMaxRight","maxPosition","maxArea","_isObstructed","ii","jj","expanding","verticalStart","verticalStep","verticalEnd","horizontalStart","horizontalStep","horizontalEnd","toString","display","value","printObstructions","row","console","log","getUID","style","service","renderMaxSize","conflicts","nextPosition","renderClassic","sorted","sortWidgets","needsRepositioning","$templateCache","nextId","curr","comp","found","roundDecimal","decimal","rowCount","columnCount","templateName","get","endPos","topDelta","leftDelta","steps","abs","currStep","currTopDelta","currLeftDelta","run","put"],"mappings":"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"}