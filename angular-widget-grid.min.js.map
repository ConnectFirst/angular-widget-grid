{"version":3,"file":"angular-widget-grid.min.js","sources":["angular-widget-grid.js"],"names":["angular","module","directive","scope","rendering","highlight","options","restrict","replace","template","link","element","applyRendering","isDefined","updateGridLines","applyOptions","applyHighlight","clearHighlights","isArray","i","length","highlightArea","clearGridLines","showGrid","showGridLines","x","y","gridLine","cellHeight","grid","cellSize","height","cellWidth","width","rows","append","activeGridLines","push","columns","forEach","activeHighlights","activeHighlight","remove","activeGridLine","area","addClass","css","top","left","$watch","DEFAULT_OPTIONS","highlightNextPosition","controller","$element","$scope","$timeout","Grid","gridRenderer","addWidget","widget","vm","add","updateRendering","removeWidget","updateGridSize","parseInt","resize","updateOptions","extend","overlayOptions","updateNextPositionHighlight","resetHighlights","render","assessAvailableGridSpace","$broadcast","gridHasSpaceLeft","hasSpaceLeft","usedToBeFull","$emit","updateWidget","newPosition","getPosition","setWidgetPosition","id","index","getWidgetIndex","nextPos","getNextPosition","getWidgetPosition","getWidgetStyle","getStyle","widgets","getPositions","gridContainer","rect","getBoundingClientRect","getClientRects","doc","ownerDocument","docElem","documentElement","window","pageYOffset","clientTop","pageXOffset","clientLeft","isObstructed","j","isAreaObstructed","rasterizeCoords","clientWidth","clientHeight","this","getWidgetRenderPosition","isPositionObstructed","controllerAs","transclude","templateUrl","gridUtil","require","pre","attrs","widgetCtrl","templateContent","getTemplate","innerCompile","$document","gridCtrl","onDown","event","onMove","preventDefault","isObject","originalEvent","touches","clientX","clientY","dragPositionX","Math","round","gridPositions","dragPositionY","requestedRender","min","max","moverOffset","startRender","currentFinalPos","determineFinalPos","startPos","widgetElement","onUp","off","eventMove","eventUp","finalPos","removeClass","widgetContainer","parentElement","bottom","right","offsetTop","offsetLeft","offsetX","layerX","offsetY","layerY","on","anchorTop","anchorLeft","floor","movedDown","movedRight","finalPosRequest","path","getPathIterator","hasNext","currPos","next","targetArea","excludedArea","fromBottom","fromRight","eventDown","navigator","pointerEnabled","$attrs","$parse","DEFAULT_DIRECTIONS","getResizeDirections","attrValue","wgResizable","directions","MIN_HEIGHT","MIN_WIDTH","ADD_OFFSET","ctrls","registerDragHandler","dragger","containerElement","up","delta","draggerOffset","down","removeAttr","foundCollision","requestedStartPoint","requestedEndPoint","requestedPos","container","offsetHeight","offsetWidth","resizableCtrl","draggers","N","E","S","W","NW","NE","SE","SW","uppercase","$compile","Widget","position","editable","getNodeIndex","elem","previousElementSibling","oldPosition","setPosition","equals","updateView","widgetOptions","$on","DEFAULT_COLUMNS","DEFAULT_ROWS","factory","computeCellSize","prototype","widgetIndex","indexOf","splice","GridRendering","positions","cachedNextPosition","undefined","obstructions","gridWidth","gridHeight","getWidgetIdAt","widgetId","currPosition","setObstructionValues","isNumber","maxPosition","findLargestEmptyArea","expanding","_isObstructed","verticalStart","verticalStep","verticalEnd","horizontalStart","horizontalStep","horizontalEnd","toString","display","value","printObstructions","row","console","log","getUID","style","EMPTY_POSITION","service","unpositionedWidgets","nextPosition","$templateCache","nextId","sortWidgets","sorted","curr","comp","found","roundDecimal","decimal","rowCount","columnCount","templateName","get","endPos","topDelta","leftDelta","steps","abs","currStep","currTopDelta","currLeftDelta","currMaxPosition","maxArea","currMaxArea","currAreaLimit","findLargestEmptyAreaFrom","column","endColumn","currHeight","currWidth","currArea","run","put"],"mappings":"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"}